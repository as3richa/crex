pattern('\A(0|[1-9][0-9]{0,2})\.(0|[1-9][0-9]{0,2})\.(0|[1-9][0-9]{0,2})\.(0|[1-9][0-9]{0,2})\z') do
  testcase('127.0.0.1',
    0 => '127.0.0.1',
    1 => '127',
    2 => '0',
    3 => ['0', 6],
    4 => ['1', 8])

  testcase('192.168.1.255',
    0 => '192.168.1.255',
    1 => '192',
    2 => '168',
    3 => ['1', 8],
    4 => '255')

  testcase('01.0.0.1', nil)
  testcase('ip 127.0.0.1', nil)
  testcase('192.168.1.255 is your ip', nil)
end
